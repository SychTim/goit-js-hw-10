{"version":3,"file":"commonHelpers.js","sources":["../src/js/timer.js"],"sourcesContent":["import flatpickr from \"flatpickr\";\nimport \"flatpickr/dist/flatpickr.min.css\";\n\nlet userSelectedDate;\nlet intervalId;\nconst button = document.querySelector(\"[data-start]\");\nconst timerVal = {\n    days: document.querySelector(\"[data-days]\"),\n    hours: document.querySelector(\"[data-hours]\"),\n    minutes: document.querySelector(\"[data-minutes]\"),\n    seconds: document.querySelector(\"[data-seconds]\")\n};\n\nconst options = {\n    enableTime: true,\n    time_24hr: true,\n    defaultDate: new Date(),\n    minuteIncrement: 1,\n    onClose(selectedDates) {\n        userSelectedDate = selectedDates[0];\n        if (userSelectedDate <= new Date()) {\n            window.alert(\"Please choose a date in the future\");\n            return;\n        }\n        \n        if (!intervalId) {\n            button.disabled = false;\n            button.addEventListener('click', timerStart)\n        }\n    },\n};\n  \nconst data = flatpickr(\"#datetime-picker\", options);\n\nfunction timerStart() {\n    button.disabled = true;\n    intervalId = setInterval(timer, 1000);\n}\n\nfunction timer() {\n    const dateDiff = userSelectedDate - new Date();\n    if (dateDiff <= 0) {\n        clearInterval(intervalId);\n        return;\n    }\n    timerVal.days.textContent = Math.floor(dateDiff/1000/60/60/24);\n    timerVal.hours.textContent = Math.floor(dateDiff/1000/60/60%24);\n    timerVal.minutes.textContent = Math.floor(dateDiff/1000/60%60);\n    timerVal.seconds.textContent = Math.floor(dateDiff/1000%60);\n}"],"names":["userSelectedDate","intervalId","button","timerVal","options","selectedDates","timerStart","flatpickr","timer","dateDiff"],"mappings":"svBAGA,IAAIA,EACAC,EACJ,MAAMC,EAAS,SAAS,cAAc,cAAc,EAC9CC,EAAW,CACb,KAAM,SAAS,cAAc,aAAa,EAC1C,MAAO,SAAS,cAAc,cAAc,EAC5C,QAAS,SAAS,cAAc,gBAAgB,EAChD,QAAS,SAAS,cAAc,gBAAgB,CACpD,EAEMC,EAAU,CACZ,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CAEnB,GADAL,EAAmBK,EAAc,CAAC,EAC9BL,GAAoB,IAAI,KAAQ,CAChC,OAAO,MAAM,oCAAoC,EACjD,MACH,CAEIC,IACDC,EAAO,SAAW,GAClBA,EAAO,iBAAiB,QAASI,CAAU,EAElD,CACL,EAEaC,EAAU,mBAAoBH,CAAO,EAElD,SAASE,GAAa,CAClBJ,EAAO,SAAW,GAClBD,EAAa,YAAYO,EAAO,GAAI,CACxC,CAEA,SAASA,GAAQ,CACb,MAAMC,EAAWT,EAAmB,IAAI,KACxC,GAAIS,GAAY,EAAG,CACf,cAAcR,CAAU,EACxB,MACH,CACDE,EAAS,KAAK,YAAc,KAAK,MAAMM,EAAS,IAAK,GAAG,GAAG,EAAE,EAC7DN,EAAS,MAAM,YAAc,KAAK,MAAMM,EAAS,IAAK,GAAG,GAAG,EAAE,EAC9DN,EAAS,QAAQ,YAAc,KAAK,MAAMM,EAAS,IAAK,GAAG,EAAE,EAC7DN,EAAS,QAAQ,YAAc,KAAK,MAAMM,EAAS,IAAK,EAAE,CAC9D"}